<!DOCTYPE html>
<html>

<head>
    <title></title>
    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="width=device-width, 
    initial-scale=1, maximum-scale=1" />
    <!--    <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"></script>-->
</head>

<body>

    <main>
        <canvas id="canvas"></canvas>
        <canvas id="NNcanvas"></canvas>
        <section id="help-splash">
            <button id="close-help" onclick="viewHelp()"><img alt="Close" title="Close" class="button-icons" src="img/cross.png"></button>
            <div class="title">
                <h1>Self Driving AI</h1>
            </div>
            <div class="info">
                <ul>
                    <li><img alt="Draw track" title="Draw track" class="button-icons" src="img/draw.png"><p>Draw Track: Click once on screen to start drawing, double click to stop</p></li>
                    <li><img alt="Clear track" title="Clear track" class="button-icons" src="img/cross.png"><p>Clear track: Clears the track</p></li>
                    <li><img alt="Erase track" title="Erase track" class="button-icons" src="img/erase.png"><p>Erase Track: Click once on screen to start erasing, double click to stop</p></li>
                    <li><img alt="Reset" title="Reset" class="button-icons" src="img/reset.png"><p>Reset: Resets the environment</p></li>
                    <li><img alt="Start" title="Start" class="button-icons" src="img/start.png"><p>Start: Start evolution</p></li>
                    <li><img alt="Help" title="Help" class="button-icons" src="img/help.png"><p>Help</p></li>
                    <li><img alt="Set car position" title="Set car position" class="button-icons" src="img/place.png"><p>Set Car Position: Click anywhere on screen to place cars</p></li>
                    <li><img alt="Start next generation" title="Start next generation" class="button-icons" src="img/nextGen.png"><p>Start Next Genertion: Kills every car alive and moves on to next generation</p></li>
                    <li><img alt="Test drive" title="Test drive" class="button-icons" src="img/testDrive.png"><p>Test Drive: Test Drive what the AI would be controlling</p></li>
                    <li><img alt="Set turn type: Ackerman" title="Set turn type: Ackerman" class="button-icons" src="img/ackerman.png"><p>Set Turn Type-Ackerman: Sets ackerman steering</p></li>
                    <li><img alt="Set turn type: Tank" title="Set turn type: Tank" class="button-icons" src="img/tank.png"><p>Set Turn Type-Tank: Sets tank steering</p></li>
                    <li><img alt="Zoom in" title="Zoom in" class="button-icons" src="img/zoomIn.png"><p>Zoom in: Zooms in on the best car</p></li>
                    <li><img alt="Zoom out" title="Zoom out" class="button-icons" src="img/zoomOut.png"><p>Zoom out</p></li>
                </ul>
            </div>
        </section>
        <section id="buttons">
            <div class="buttons buttonsLeft">
                <div>
                    <button onclick="initBounds()"><img alt="Draw track" title="Draw track" class="button-icons" src="img/draw.png"></button>
                    <button onclick="clearBounds()"><img alt="Clear track" title="Clear track" class="button-icons" src="img/cross.png"></button>
                    <button onclick="eraseBounds()"><img alt="Erase track" title="Erase track" class="button-icons" src="img/erase.png"></button>
                </div>
                <div>
                    <button onclick="reset()"><img alt="Reset" title="Reset" class="button-icons" src="img/reset.png"></button>
                    <button onclick="start()"><img alt="Start" title="Start" class="button-icons" src="img/start.png"></button>
                    <button onclick="viewHelp()"><img alt="Help" title="Help" class="button-icons" src="img/help.png"></button>
                </div>
            </div>
            <div class="buttons buttonsRight">
                <div>
                    <button onclick="setCarPos()"><img alt="Set car position" title="Set car position" class="button-icons" src="img/place.png"></button>
                    <button onclick="startNextGen()"><img alt="Start next generation" title="Start next generation" class="button-icons" src="img/nextGen.png"></button>
                </div>
                <div>
                    <button onclick="startTestDrive()"><img alt="Test drive" title="Test drive" class="button-icons" src="img/testDrive.png"></button>
                    <button onclick="setTurnType(this)" value="ackerman"><img class="ackerman" alt="Set turn type: Ackerman" title="Set turn type: Ackerman" class="button-icons" src="img/ackerman.png"><img class="tank" alt="Set turn type: Tank" title="Set turn type: Tank" class="button-icons" src="img/tank.png"></button>
                </div>
                <div>
                    <button onclick="zoomInCanvas()"><img alt="Zoom in" title="Zoom in" class="button-icons" src="img/zoomIn.png"></button>
                    <button onclick="zoomOutCanvas()"><img alt="Zoom out" title="Zoom out" class="button-icons" src="img/zoomOut.png"></button>
                </div>
            </div>
        </section>

        <section id="program">
            <p>Total Cars:</p>
            <div class="number-input"><button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"></button>
                <input id="carNumsInput" class="quantity" min="1" name="quantity" value="20" type="number">
                <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="plus"></button>
            </div>
            <br>
            <br>
            <p>Total sensors: <span id="numRaysText"></span></p>
            <p><input id="numRaysSlider" type="range" min="1" max="7" step="2" value="3">
            </p>
            <br>
            <p>Speed: <span id="genSpeedText"></span></p>
            <p><input id="genslider" type="range" min="1" max="20" step="1" value="1">
            </p>
            <br>
            <p>Gen: <span id="genText"></span></p>
            <br>
            <p>Score <span id="score"></span></p>
        </section>
    </main>
    <script>
        var help = document.getElementById("help-splash")

        function viewHelp() {
            help.classList.toggle('display-help');
        }
    </script>
    <script src="lib/nn.js"></script>
    <script src="lib/matrix.js"></script>
    <script src="car.js"></script>
    <script src="ga.js"></script>
    <script src="ray.js"></script>
    <script src="boundary.js"></script>
    <script src="setup.js"></script>
    <script src="visualiseNN.js"></script>
</body></html>
